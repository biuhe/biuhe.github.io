{"title":"「Windows」Windows “因为在此系统上禁止运行脚本”解决办法","slug":"技术/windows/「Windows」Windows “因为在此系统上禁止运行脚本”解决办法","date":"2022-10-16T07:06:15.896Z","updated":"2022-12-12T03:19:22.254Z","comments":true,"path":"api/articles/技术/windows/「Windows」Windows “因为在此系统上禁止运行脚本”解决办法.json","excerpt":null,"covers":["https://pic1.zhimg.com/80/v2-15867761d0618599271045d3cd2fc838_1440w.jpg","https://pic3.zhimg.com/80/v2-9e4bb9af3b778d0d91ce7bdb4eacbdca_1440w.jpg"],"content":"<h2 id=\"背景\"><a class=\"markdownIt-Anchor\" href=\"#背景\"></a> 背景</h2>\n<p>最近升级了windows11，然后在系统上安装一些常用工具，遇到了如下的问题。</p>\n<blockquote>\n<p>nrm : 无法加载文件 C:\\Users\\用户名\\AppData\\Roaming\\npm\\nrm.ps1，因为在此系统上禁止运行脚本。</p>\n</blockquote>\n<p><img src=\"https://pic1.zhimg.com/80/v2-15867761d0618599271045d3cd2fc838_1440w.jpg\" alt=\"img\"></p>\n<h2 id=\"解决方法\"><a class=\"markdownIt-Anchor\" href=\"#解决方法\"></a> 解决方法</h2>\n<p>处理方案在提示中有，可以通过访问链接查看：<a href=\"https://go.microsoft.com/fwlink/?LinkID=135170\">https://go.microsoft.com/fwlink/?LinkID=135170</a></p>\n<p>核心是power shell的安全策略，将 nrm 命令视为了不安全脚本，不允许执行。只需要放开权限就行。</p>\n<p>我们通过管理员权限运行power shell，然后输入命令</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">set-ExecutionPolicy RemoteSigned</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://pic3.zhimg.com/80/v2-9e4bb9af3b778d0d91ce7bdb4eacbdca_1440w.jpg\" alt=\"img\"></p>\n<p>选择“是”，就OK了。</p>\n<p>如果要恢复策略则设置则执行</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">set-ExecutionPolicy Default</span><br></pre></td></tr></table></figure>\n<h2 id=\"参考\"><a class=\"markdownIt-Anchor\" href=\"#参考\"></a> 参考</h2>\n<blockquote>\n<p><a href=\"https://zhuanlan.zhihu.com/p/493496089\">https://zhuanlan.zhihu.com/p/493496089</a></p>\n</blockquote>\n","more":"<h2 id=\"背景\"><a class=\"markdownIt-Anchor\" href=\"#背景\"></a> 背景</h2>\n<p>最近升级了windows11，然后在系统上安装一些常用工具，遇到了如下的问题。</p>\n<blockquote>\n<p>nrm : 无法加载文件 C:\\Users\\用户名\\AppData\\Roaming\\npm\\nrm.ps1，因为在此系统上禁止运行脚本。</p>\n</blockquote>\n<p><img src=\"https://pic1.zhimg.com/80/v2-15867761d0618599271045d3cd2fc838_1440w.jpg\" alt=\"img\"></p>\n<h2 id=\"解决方法\"><a class=\"markdownIt-Anchor\" href=\"#解决方法\"></a> 解决方法</h2>\n<p>处理方案在提示中有，可以通过访问链接查看：<a href=\"https://go.microsoft.com/fwlink/?LinkID=135170\">https://go.microsoft.com/fwlink/?LinkID=135170</a></p>\n<p>核心是power shell的安全策略，将 nrm 命令视为了不安全脚本，不允许执行。只需要放开权限就行。</p>\n<p>我们通过管理员权限运行power shell，然后输入命令</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">set-ExecutionPolicy RemoteSigned</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://pic3.zhimg.com/80/v2-9e4bb9af3b778d0d91ce7bdb4eacbdca_1440w.jpg\" alt=\"img\"></p>\n<p>选择“是”，就OK了。</p>\n<p>如果要恢复策略则设置则执行</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">set-ExecutionPolicy Default</span><br></pre></td></tr></table></figure>\n<h2 id=\"参考\"><a class=\"markdownIt-Anchor\" href=\"#参考\"></a> 参考</h2>\n<blockquote>\n<p><a href=\"https://zhuanlan.zhihu.com/p/493496089\">https://zhuanlan.zhihu.com/p/493496089</a></p>\n</blockquote>\n","categories":[{"name":"技术","path":"api/categories/技术.json"},{"name":"Windows","path":"api/categories/Windows.json"}],"tags":[{"name":"技术","path":"api/tags/技术.json"},{"name":"Windows","path":"api/tags/Windows.json"}]}